## Stop the picture overwriting

Now that we have introduced the ability to run the program only once but take multiple pictures, we have a problem. The filename for the picture is generated by this existing line of code:

```python
output = strftime("/home/pi/allseeingpi/image-%d-%m %H:%M.png", gmtime())
```

However, we only execute this line of code once during the program. This means that, every time the button is pressed to take a picture, it is saved to the same location, with the same filename. To fix this, we need to regenerate the filename every time we take a picture.

- Locate this line of code and copy it so you can paste it somewhere else shortly. Then, change the output to be equal to an empty string:

    ```python
    output = ""
    ```

- Now find your `take_picture()` function. At the start of the code within the function, add the line `global output` and then paste in the line you copied. The altered function should look like this:

    ```python
    def take_picture():
        global output
        output = strftime("/home/pi/allseeingpi/image-%d-%m %H:%M.png", gmtime())
        camera.capture(output)
        camera.stop_preview()
        # .... code continues...
    ```

    We are dealing with **scoping** here: this is an important concept for programmers to understand. Why did we bother to create the variable `output` in the main part of the program, and **initialise** it as a blank string, when we could have just created it within the `take_picture()` function? The answer is that if we only created it within the `take_picture()` function, once the function finished executing, the variable would no longer exist. By declaring that we are talking about the `global` version of the `output` variable, we are telling the program that we want to use the variable `output` which we created in the main part of the program. This means that once the function exits, the variable `output` with the location of the saved picture will still exist. We need to have a permanent record where the picture was saved because it is used in other places within the program.

